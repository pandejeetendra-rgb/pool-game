<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Quiz Pool – Password Guidelines</title>

<style>
body{
  margin:0;
  font-family: system-ui, Arial, sans-serif;
  background:#0b1220;
  color:#eaf0ff;
  display:flex;
  justify-content:center;
  align-items:center;
  min-height:100vh;
}
.game{
  width:980px;
  max-width:96%;
  background:#101a33;
  border-radius:14px;
  padding:14px;
}
.header{
  display:flex;
  justify-content:space-between;
  font-size:14px;
  margin-bottom:6px;
}
.question{
  font-size:16px;
  margin:8px 0 12px;
}
canvas{
  width:100%;
  background:#0e1730;
  border-radius:12px;
}
.controls{
  display:flex;
  justify-content:center;
  gap:10px;
  margin-top:10px;
}
button{
  background:#2563eb;
  border:none;
  color:white;
  padding:8px 14px;
  border-radius:8px;
  font-size:14px;
  cursor:pointer;
}
button.option.active{
  background:#22c55e;
}
.feedback{
  text-align:center;
  font-weight:700;
  margin-top:8px;
}
.correct{color:#35d07f}
.wrong{color:#ff5a6a}
.note{
  font-size:13px;
  color:#a9b6d6;
  margin-top:6px;
  text-align:center;
}
</style>
</head>

<body>
<div class="game">
  <div class="header">
    <div>Question <span id="qnum"></span>/<span id="qtotal"></span></div>
    <div>Score: <span id="score">0</span></div>
  </div>

  <div class="question" id="questionText"></div>

  <canvas id="table" width="900" height="460"></canvas>

  <div class="controls">
    <button class="option" onclick="aim(0)">A</button>
    <button class="option" onclick="aim(1)">B</button>
    <button class="option" onclick="aim(2)">C</button>
    <button class="option" onclick="aim(3)">D</button>
    <button onclick="hit()">Hit</button>
  </div>

  <div class="feedback" id="feedback"></div>
  <div class="note">Aim at the option itself and press Hit.</div>
</div>

<script>
/* ================= QUESTIONS ================= */
const QUESTIONS = [
  {
    q:"A password is primarily used to confirm a user’s ____.",
    o:["Location","Identity","Device model","Internet speed"],
    c:1
  },
  {
    q:"Passwords are a common method of:",
    o:["Encryption","Authentication","Compression","Backup"],
    c:1
  },
  {
    q:"Why should passwords be unique for each account?",
    o:["Easy typing","Limits damage if leaked","Saves memory","Improves speed"],
    c:1
  },
  {
    q:"Strong passwords should include:",
    o:["Only letters","Only numbers","Mixed characters","Your name"],
    c:2
  }
];

/* ================= STATE ================= */
let qi=0, score=0, selected=null;
const canvas=document.getElementById("table");
const ctx=canvas.getContext("2d");

document.getElementById("qtotal").textContent=QUESTIONS.length;

/* ================= LAYOUT ================= */
const cue={x:450,y:360};
const balls=[
  {x:150,y:180},
  {x:350,y:180},
  {x:550,y:180},
  {x:750,y:180}
];
const holes=[
  {x:150,y:90},
  {x:350,y:90},
  {x:550,y:90},
  {x:750,y:90}
];

/* ================= HELPERS ================= */
function wrapText(text,x,y,maxWidth,lineHeight){
  const words=text.split(" ");
  let line="", yy=y;
  for(let i=0;i<words.length;i++){
    const test=line+words[i]+" ";
    if(ctx.measureText(test).width>maxWidth && i>0){
      ctx.fillText(line,x,yy);
      line=words[i]+" ";
      yy+=lineHeight;
    }else{
      line=test;
    }
  }
  ctx.fillText(line,x,yy);
}

/* ================= DRAW ================= */
function draw(){
  ctx.clearRect(0,0,900,460);

  // holes
  holes.forEach(h=>{
    ctx.beginPath();
    ctx.fillStyle="#000";
    ctx.arc(h.x,h.y,18,0,Math.PI*2);
    ctx.fill();
  });

  // option balls + text
  balls.forEach((b,i)=>{
    ctx.beginPath();
    ctx.fillStyle=i===selected?"#22c55e":"#93c5fd";
    ctx.arc(b.x,b.y,28,0,Math.PI*2);
    ctx.fill();

    ctx.fillStyle="#000";
    ctx.font="bold 14px system-ui";
    ctx.fillText(["A","B","C","D"][i],b.x-5,b.y+5);

    // option text
    ctx.fillStyle="#eaf0ff";
    ctx.font="13px system-ui";
    wrapText(
      QUESTIONS[qi].o[i],
      b.x-55,
      b.y+45,
      110,
      14
    );
  });

  // cue ball
  ctx.beginPath();
  ctx.fillStyle="#fff";
  ctx.arc(cue.x,cue.y,16,0,Math.PI*2);
  ctx.fill();

  // cue stick
  if(selected!==null){
    ctx.strokeStyle="#c7d2fe";
    ctx.lineWidth=4;
    ctx.beginPath();
    ctx.moveTo(cue.x,cue.y);
    ctx.lineTo(balls[selected].x,balls[selected].y);
    ctx.stroke();
  }
}

/* ================= LOGIC ================= */
function loadQ(){
  document.getElementById("qnum").textContent=qi+1;
  document.getElementById("questionText").textContent=QUESTIONS[qi].q;
  document.getElementById("feedback").textContent="";
  document.querySelectorAll(".option").forEach(b=>b.classList.remove("active"));
  selected=null;
  draw();
}

function aim(i){
  selected=i;
  document.querySelectorAll(".option").forEach(b=>b.classList.remove("active"));
  document.querySelectorAll(".option")[i].classList.add("active");
  draw();
}

function hit(){
  if(selected===null) return;
  const fb=document.getElementById("feedback");

  if(selected===QUESTIONS[qi].c){
    score+=10;
    fb.textContent="Correct";
    fb.className="feedback correct";
  }else{
    fb.textContent="Wrong. Correct answer: "+["A","B","C","D"][QUESTIONS[qi].c];
    fb.className="feedback wrong";
  }
  document.getElementById("score").textContent=score;

  setTimeout(()=>{
    qi++;
    if(qi<QUESTIONS.length){
      loadQ();
    }else{
      document.getElementById("questionText").textContent="Game Completed";
      fb.textContent="Final Score: "+score;
    }
  },1000);
}

/* ================= START ================= */
loadQ();
</script>
</body>
</html>
