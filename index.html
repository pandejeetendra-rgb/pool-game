<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Quiz Pool – Password Guidelines</title>

<style>
body{
  margin:0;
  font-family:system-ui, Arial, sans-serif;
  background:#0b1220;
  color:#eaf0ff;
  display:flex;
  justify-content:center;
  align-items:center;
  min-height:100vh;
}
.game{
  width:1000px;
  max-width:96%;
  background:#101a33;
  border-radius:16px;
  padding:16px;
}
.header{
  display:flex;
  justify-content:space-between;
  font-size:14px;
  margin-bottom:6px;
}
.instructions{
  font-size:13px;
  color:#c7d2fe;
  background:#0e1730;
  padding:10px;
  border-radius:10px;
  margin-bottom:10px;
}
.question{
  font-size:17px;
  margin:10px 0;
}
.options{
  font-size:14px;
  line-height:1.6;
  margin-bottom:10px;
}
canvas{
  width:100%;
  background:#0e1730;
  border-radius:14px;
}
.controls{
  display:flex;
  justify-content:center;
  gap:10px;
  margin-top:10px;
  flex-wrap:wrap;
}
button{
  background:#2563eb;
  border:none;
  color:#fff;
  padding:8px 16px;
  border-radius:8px;
  font-size:14px;
  cursor:pointer;
}
button.option.active{background:#22c55e}
button:disabled{opacity:.5}
.feedback{
  text-align:center;
  font-size:16px;
  font-weight:700;
  margin-top:10px;
  min-height:26px;
}
.correct{color:#35d07f}
.wrong{color:#ff5a6a}
</style>
</head>

<body>
<div class="game">

  <div class="header">
    <div>Question <span id="qnum"></span>/<span id="qtotal"></span></div>
    <div>Score: <span id="score">0</span></div>
  </div>

  <div class="instructions">
    <b>How to Play:</b><br>
    1. Read the question and options carefully.<br>
    2. Select your answer using A, B, C, or D (or by clicking the ball).<br>
    3. Press <b>Hit</b> to strike the ball.<br>
    4. Feedback will appear before the next question.<br>
    Each correct answer gives <b>+10 points</b>. No retries.
  </div>

  <div class="question" id="questionText"></div>
  <div class="options" id="optionText"></div>

  <canvas id="table" width="900" height="520"></canvas>

  <div class="controls">
    <button class="option" onclick="selectOption(0)">A</button>
    <button class="option" onclick="selectOption(1)">B</button>
    <button class="option" onclick="selectOption(2)">C</button>
    <button class="option" onclick="selectOption(3)">D</button>
    <button onclick="hit()">Hit</button>
  </div>

  <div class="feedback" id="feedback"></div>

</div>

<script>
/* ================= QUESTIONS (BALANCED ANSWERS) ================= */
const QUESTIONS = [
 {q:"A password is primarily used to confirm a user’s ____.",
  o:["Identity","Location","Internet speed","Device model"], c:0},

 {q:"Passwords are a common method of:",
  o:["Backup","Compression","Authentication","Encryption"], c:2},

 {q:"Which practice improves password security the most?",
  o:["Reusing passwords","Using personal information","Short passwords","Using unique passwords"], c:3},

 {q:"A strong password should ideally include:",
  o:["Only numbers","Only letters","Uppercase, lowercase, numbers, symbols","Your name"], c:2},

 {q:"Which attack involves trying many combinations automatically?",
  o:["Phishing","Brute-force attack","Shoulder surfing","Social engineering"], c:1},

 {q:"Observing someone while they type a password is called:",
  o:["Dictionary attack","Phishing","Shoulder surfing","Credential stuffing"], c:2},

 {q:"Two-factor authentication mainly helps by:",
  o:["Replacing passwords","Adding another verification step","Encrypting files","Blocking the internet"], c:1},

 {q:"Which is a recommended best practice?",
  o:["Writing passwords down","Sharing passwords","Using a password manager","Using simple words"], c:2},

 {q:"Credential stuffing attacks exploit:",
  o:["Password reuse","Strong encryption","Firewalls","Antivirus software"], c:0},

 {q:"Public Wi-Fi is risky mainly because it can be:",
  o:["Slow","Encrypted","Easily compromised","Unavailable"], c:2},

 {q:"Monitoring accounts regularly helps to:",
  o:["Increase speed","Detect suspicious activity","Reduce storage","Disable updates"], c:1},

 {q:"Social engineering attacks primarily target:",
  o:["Software bugs","Human behavior","Hardware faults","Encryption keys"], c:1}
];

/* ================= STATE ================= */
let qi=0, score=0, selected=null, animating=false;
const canvas=document.getElementById("table");
const ctx=canvas.getContext("2d");
document.getElementById("qtotal").textContent=QUESTIONS.length;

/* ================= TABLE GEOMETRY ================= */
const center={x:450,y:260};
const balls=[
  {x:220,y:260,label:"A",color:"#3b82f6",visible:true},
  {x:450,y:120,label:"B",color:"#22c55e",visible:true},
  {x:680,y:260,label:"C",color:"#f59e0b",visible:true},
  {x:450,y:400,label:"D",color:"#a855f7",visible:true}
];
const holes=[
  {x:120,y:260},{x:450,y:40},{x:780,y:260},{x:450,y:480}
];
let cue={x:center.x,y:center.y};

/* ================= DRAW ================= */
function draw(){
  ctx.clearRect(0,0,900,520);

  holes.forEach(h=>{
    ctx.beginPath();
    ctx.fillStyle="#000";
    ctx.arc(h.x,h.y,32,0,Math.PI*2);
    ctx.fill();
  });

  balls.forEach((b,i)=>{
    if(!b.visible) return;
    ctx.beginPath();
    ctx.fillStyle=b.color;
    ctx.arc(b.x,b.y,24,0,Math.PI*2);
    ctx.fill();

    ctx.fillStyle="#000";
    ctx.font="bold 15px system-ui";
    ctx.fillText(b.label,b.x-6,b.y+6);

    if(i===selected){
      ctx.strokeStyle="#fff";
      ctx.lineWidth=3;
      ctx.stroke();
    }
  });

  ctx.beginPath();
  ctx.fillStyle="#fff";
  ctx.arc(cue.x,cue.y,18,0,Math.PI*2);
  ctx.fill();

  if(selected!==null && !animating){
    ctx.strokeStyle="#c7d2fe";
    ctx.lineWidth=4;
    ctx.beginPath();
    ctx.moveTo(cue.x,cue.y);
    ctx.lineTo(balls[selected].x,balls[selected].y);
    ctx.stroke();
  }
}

/* ================= LOAD QUESTION ================= */
function loadQ(){
  const q=QUESTIONS[qi];
  document.getElementById("qnum").textContent=qi+1;
  document.getElementById("questionText").textContent=q.q;
  document.getElementById("optionText").innerHTML=
    `A. ${q.o[0]}<br>B. ${q.o[1]}<br>C. ${q.o[2]}<br>D. ${q.o[3]}`;
  document.getElementById("feedback").textContent="";
  document.querySelectorAll(".option").forEach(b=>b.classList.remove("active"));
  selected=null;
  animating=false;
  cue.x=center.x; cue.y=center.y;
  balls.forEach(b=>b.visible=true);
  draw();
}

/* ================= SELECTION ================= */
function selectOption(i){
  if(animating) return;
  selected=i;
  document.querySelectorAll(".option").forEach(b=>b.classList.remove("active"));
  document.querySelectorAll(".option")[i].classList.add("active");
  draw();
}

/* ================= ANIMATION ================= */
function animateMove(obj,tx,ty,steps,cb){
  let dx=(tx-obj.x)/steps, dy=(ty-obj.y)/steps, c=0;
  function step(){
    obj.x+=dx; obj.y+=dy;
    draw();
    c++;
    if(c<steps) requestAnimationFrame(step);
    else cb();
  }
  step();
}

/* ================= HIT ================= */
function hit(){
  if(selected===null || animating) return;
  animating=true;
  const targetBall=balls[selected];
  const targetHole=holes[selected];

  animateMove(cue,targetBall.x,targetBall.y,18,()=>{
    animateMove(targetBall,targetHole.x,targetHole.y,18,()=>{
      targetBall.visible=false;   // vanish after hole
      draw();
      showFeedback();
    });
  });
}

/* ================= FEEDBACK ================= */
function showFeedback(){
  const fb=document.getElementById("feedback");
  if(selected===QUESTIONS[qi].c){
    score+=10;
    fb.textContent="Correct";
    fb.className="feedback correct";
  }else{
    fb.textContent="Wrong. Correct answer: "+["A","B","C","D"][QUESTIONS[qi].c];
    fb.className="feedback wrong";
  }
  document.getElementById("score").textContent=score;

  setTimeout(()=>{
    qi++;
    if(qi<QUESTIONS.length){
      loadQ();
    }else{
      document.getElementById("questionText").textContent="Game Completed";
      document.getElementById("optionText").innerHTML="";
      fb.textContent="Final Score: "+score;
    }
  },1800);
}

/* ================= START ================= */
loadQ();
</script>
</body>
</html>
